{% extends parent_template %}

{% block title %}{{ Lang.get('user.change_password') }}{% endblock %}

{% block breadcrumb %}
    {{ parent() }}
    {{ Lang.get('user.change_password') }}
{% endblock %}

{% block content %}

    {{ form_open({'route': [ 'user.change_password' ], 'method': 'PUT', 'class': 'validate'}) }}

    <div class="sp-form-row">
        {{ form_label('current_password', Lang.get('user.current_password')) }}
        <div class="sp-input-container">
            {{ form_password('current_password', {'autocomplete': 'off', 'autofocus': 'autofocus', 'size': 20}) }}<br />
            <div class="sp-description">{{ Lang.get('user.personal_confirm_password') }}</div>
        </div>
    </div>

    <div class="sp-form-row">
        {{ form_label('password', Lang.get('user.new_password')) }}
        <div class="sp-input-container">
            {{ form_password('password', {'size': 20, 'autocomplete': 'new-password'}) }}
        </div>
    </div>

    <div class="sp-form-row">
        {{ form_label('password_confirmation', Lang.get('user.confirm_password')) }}
        <div class="sp-input-container">
            {{ form_password('password_confirmation', {'size': 20, 'autocomplete': 'new-password'}) }}
        </div>
    </div>

    <div class="sp-form-button">
        {{ form_submit(Lang.get('general.save')) }}
    </div>

    {{ form_close() }}

{% endblock %}

{% block scripts_footer %}
    {% if jsValidator|default is not empty %}
        {{ jsValidator|raw }}
    {% endif %}

    <script type="text/javascript">
        $(document).ready(function() {
            // Enable hide/show password toggle
            $('input[type=password]').hideShowPassword();
        });
    </script>
{% endblock %}